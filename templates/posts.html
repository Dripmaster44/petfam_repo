<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8"/>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
        crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
          crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/style.css"/>
  <title>반려동물 자랑 사이트, petfam</title>
  <script>
    window.onload = function() {
      getUserNickname();
      const cookieValue = getToken();
        if (cookieValue== "") {
          document.getElementById("sign-text").style.display = "inline";
          document.getElementById("welcome-text").style.display = "none";
          document.getElementById("signout-text").style.display = "none";
          document.getElementById("admingetuser").style.display = "none";
          document.getElementById("login-text").style.display = "inline";
        }  else {
          document.getElementById("sign-text").style.display = "none";
          document.getElementById("welcome-text").style.display = "inline";
          document.getElementById("signout-text").style.display = "inline";
          document.getElementById("admingetuser").style.display = "none";
          document.getElementById("login-text").style.display = "none";
        }

        getIsAdmin().then(isAdmin => {
          if (isAdmin === true) {
            document.getElementById("admingetuser").style.display = "inline";
          }
        });
    };
  </script>
</head>
<body>
<div class="header" style="position: relative;">
    <div id="header-title-petfam">
      Petfam(펫팸)
    </div>
    <a id="sign-text" href="/templates/signup.html">
      회원가입
    </a>
    <a id="login-text" href="/templates/login.html">
      로그인
    </a>
    <a id="home-text" href="/templates/index.html">
      HOME
    </a>
    <a id="welcome-text" href="/templates/myprofile.html">
      ...님 환영합니다.
    </a>
    <button id="signout-text" onclick="logout()">
      로그아웃
    </button>
    <a id="admingetuser" href = "/templates/getusers.html">
      유저전체조회(관리자 전용)
    </a>
</div>
</div>
<nav class="nav flex-column" id="sidebar-text"
     style="float: left; margin-right: 50px; width: 200px;">
  <div class="nav-column">
    <a class="nav-link active" id="sidebar-text-each" aria-current="page" style="color: black" href="./posts.html">펫팸 자랑</a>
    <a class="nav-link active" id="sidebar-text-each" aria-current="page" style="color: black" href="./posts_chat.html">펫팸 잡담</a>
    <a class="nav-link active" id="sidebar-text-each" aria-current="page" style="color: black" href="./posts_qna.html">Q&A게시판</a>
  </div>
</nav>
<div class="posts">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
    <a id="write-post" href="/templates/createPost.html">글쓰기</a>
  </div>
  <table>
    <thead>
    <tr class="table">
      <th class="table1">글 번호</th>
      <th class="table2">글 제목</th>
      <th class="table3">글쓴이</th>
      <th class="table4">추천</th>
    </tr>
    </thead>
    <tbody>
      <tr id="post-table" class="table"></tr>
    </tbody>
  </table>
  <div id="page-buttons"> </div>
</div>
<script src="../javascript/post_script.js"></script>
<script src="../javascript/user.js"></script>
</body>
</html>